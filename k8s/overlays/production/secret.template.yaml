# SwitchBot API 認証情報の Secret Template
# 使用方法:
#   1. k8s/.env ファイルにSWITCHBOT_TOKENとSWITCHBOT_SECRETを設定
#   2. make k8s-secret-generate で secret.yaml を自動生成
#   3. kubectl apply -k k8s/overlays/production でデプロイ

apiVersion: v1
kind: Secret
metadata:
  name: switchbot-credentials
  namespace: smart-home
  labels:
    app: switchbot-exporter
    component: authentication
type: Opaque
data:
  # 環境変数から自動的にBase64エンコードされて挿入されます
  # Run `make k8s-secret-generate`
  token: "{{SWITCHBOT_TOKEN_BASE64}}"
  secret: "{{SWITCHBOT_SECRET_BASE64}}"