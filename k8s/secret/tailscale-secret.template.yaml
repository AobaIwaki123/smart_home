# Tailscale OAuth クライアント認証情報の Secret Template
# 使用方法:
#   1. プロジェクトルートの .env に TAILSCALE_CLIENT_ID / TAILSCALE_CLIENT_SECRET を設定
#   2. make k8s-secret-generate で k8s/secret/tailscale-secret.yaml を自動生成
#   3. make k8s-tailscale-install でデプロイ

apiVersion: v1
kind: Secret
metadata:
  name: operator-oauth
  namespace: tailscale
  # Helm が管理できるように ownership ラベル/アノテーションを付与する
  labels:
    app.kubernetes.io/managed-by: Helm
  annotations:
    meta.helm.sh/release-name: tailscale-operator
    meta.helm.sh/release-namespace: tailscale
type: Opaque
data:
  # make k8s-secret-generate によって自動挿入されます
  client_id: "{{TAILSCALE_CLIENT_ID_BASE64}}"
  client_secret: "{{TAILSCALE_CLIENT_SECRET_BASE64}}"
